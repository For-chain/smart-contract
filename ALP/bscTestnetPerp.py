import sys
import os
import time


from ALP.abi import Perp_abi
from ALP.contract import Apollox
from web3 import Web3, HTTPProvider
from config import *


w3 = Web3(HTTPProvider(BSC_RPC_URL_TEST))
apollox = w3.eth.contract(address=BSC_APOLLOX_CONTRACT_TEST, abi=Perp_abi.abi)

nonce_1 = w3.eth.get_transaction_count(WALLET_ADDRESS_1)
# nonce_2 = w3.eth.get_transaction_count(WALLET_ADDRESS_2)
# nonce_3 = w3.eth.get_transaction_count(WALLET_ADDRESS_3)
# nonce_4 = w3.eth.get_transaction_count(WALLET_ADDRESS_4)
nonce_5 = w3.eth.get_transaction_count(WALLET_ADDRESS_5)

perp = Apollox.Apollox(w3, apollox, BSC_GWEI_TEST)
#
# perp.swapAndOpenMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, "0x07ed2379000000000000000000000000e37e799d5077682fa0a244d46e5649f71457bd090000000000000000000000003c213f1a3b61feb6b5f009f0c92438a459d3955f000000000000000000000000ddef1fa96426191027a04d7d044f2c8ad4ea6f88000000000000000000000000e37e799d5077682fa0a244d46e5649f71457bd0900000000000000000000000093e7f5a91efe19ebac5444f71bbeae7ce5b797f300000000000000000000000000000000000000000000000000000002540be400000000000000000000000000000000000000000000000000c42753173462990700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000008100000000000000000000000000000000000000000000000000000000006302a0000000000000000000000000000000000000000000000000000505cb3cc8c590ee63c1e580c7c78f4eb03db672d379e96e9fcf89a6ff0eb8f2fb5b838b6cfeedc2873ab27866079ac55363d37e111111125421ca6dc452d289314280a0f8842a6500000000000000000000000000000000000000000000000000000000000000b3276493", BSC_BTC_TEST, True, BSC_USDC_TEST, 3, 0.02, 68500, 0, 0, 1)

# perp.setOneInchAggregationRouter(WALLET_PRIVATE_KEY_1, nonce_1, '0x480A166cB0eF066c27Ba4051E176FB6aD3E92295')

# perp.requestPriceCallback(WALLET_PRIVATE_KEY_1, nonce_1, '0x7FD07180F7E7924384753F9F5245A72063BD47884F59D7D930313F0A3CC87ACC', 67351)

# perp.settlePredictions(WALLET_PRIVATE_KEY_1, nonce_1, [(699, int(57900*10**8))])

# perp.safeMode(WALLET_PRIVATE_KEY_1, nonce_1, False, [BSC_500BTC_TEST, BSC_ETH_TEST, BSC_BTC_TEST, BSC_WBNB_TEST], [[BSC_BTC_TEST, [(int(3000000 * 10 ** 18), 1, 250, 8500, 9000)]],
#                                                                                                                   [BSC_ETH_TEST, [(int(3000000 * 10 ** 18), 1, 250, 8500, 9000)]],
#                                                                                                                   [BSC_WBNB_TEST, [(int(3000000 * 10 ** 18), 1, 250, 8500, 9000)]]])

# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_BTC_TEST, True, BSC_USDT_TEST, 30, 0.1, 59000, 0, 60000, 1)
# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_LINK_TEST, True, BSC_USDT_TEST, 10, 10, 14, 0, 14, 2)
# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_GMT_TEST, True, BSC_USDT_TEST, 10, 1000, 0.14, 0, 0, 2)
# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_JPY_TEST, True, BSC_USDT_TEST, 20, 10000, 0.007, 0, 0, 2)
# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_AAVE_TEST, False, BSC_USDT_TEST, 20, 10, 135, 0, 0, 2)

# perp.openMarketTradeAndCallback(WALLET_PRIVATE_KEY_5, nonce_5,  BSC_JPY_TEST, True, BSC_USDT_TEST, 20, 9876, 0.008, 0, 0, 2, 0.007)

# perp.closeTrade(WALLET_PRIVATE_KEY_5, nonce_5, '0xfe4dc10aa00665fb5887075e54d73f500c2ac32576690e38fe8f463628524e03')

# perp.batchRequestPriceCallbackAll(WALLET_PRIVATE_KEY_1, nonce_1, [('0x1764194FB3B00795455B9E4C46E030B8D2A3B893FA26ECE888B4820E34A7CCCB', PYTH_LINKUSD, False, int(0*10**8))],
#                                   ['0x504e41550100000003b801000000040d000c29663327a2c6ba4f01d5b5e9b882d8570069404627a52bb77d524699f322b31d82764cc79ffcfd04aafd06947a687301f87a16ae3fff651d95d41b0f8e821c0102ea5c21829a63cb8ac786e73c8d6e9f969353942a9babbfc19f881861a012381b175a0098b0b938018a0b0cdc4d1df8788165430bac1eee37f24b95554747f5ac0103539b2e5ea5450d5ab209eb2a300d44875b1bb58ac41c7866fd180c9d7547755943bf5763513634f2743ed1c9570b22e162b5301c5cc92aaf11914feba8ad645e00041eeea7b4e60b640296c19e7485eb788f07ed4ea846a2f7a36af46f6d8b9640b4577ba2a1672a3ff083c79e31587af56044b8320b7f7063fcb983802d95a77c210006b01cd46b8ed51b2d25ce720d218889bade8a853ae5990b1de61d709fb98fd1c166895f7e3f3e61ce7f50523e877c653772a05133b31c07ade69d24f54721ca3400087d7ac160af0c39ffb39d949ffd7375f962a0da534e6702fee0ba1bc937d35aee123cb9facdb16e121aa4e6d3abc7bf08944c766ccf0a0ea42d0006f61ca8175e010a2c737ee7ba9d8ed1d478d8b715ef946923fcf4c0ebdbbd06ff56e4a04f1c021728a03f460cec36be3e104059965927719093977061bc24671427fa58b1b99947000c99401d49df7b40a0ef0d2c4227a0446e7c7623487f215a5b8bd237125a4102f3757d38256b38eceda44ad2390f04c65021684db550822aa05a6b2910abf615db010de218282ba7b514f1a88a842d20fb1e1610d6bbff9a1670386e2017a32b08998c46651e9f5b46f305e98663b48056f3def3f4328bb05b8f214e7afda0bf572f07000e0c5aa9fc7210ba1fb03273e193e70bd5bcfff370a29b0869f07ea992d2e7d8242d981d5e04b587a3533e0097f87e4f53fa10b149cafacc445d4f0a2756780d6b000f32af81a291c3d2e5ac5b0ce242a246ea0a48e05035b772b60655f47ce4597e1a2482cd325ab102b170eae087c58b749761f82f6c45d98a60fee75df7638ab4ba0010e0429e10ede56752e15e5e4ca1388b0ff38bee46cf7f85b86f8de8a2e744cbfe5e1a7d3cf55a894088cff7b723a3c874488b8d815bd09d97ae2d8cda8401236a001294cbee38f505ce0e7823af76442b3a28f4c49a54abdb2607667a22ac497ec9671d1df398b34663e97c95e401d097d5a3ca5099d94f6e2365d7ebb07ffaa748b90066c80ad900000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000483041701415557560000000000098df2f600002710953246d5017b726d56a425f3a91e4d6e416be565010055008ac0c70fff57e9aefdf5edf44b51d62c2d433653cbb2cf5cc06bb115af04d2210000000044ff93000000000000122982fffffff80000000066c80ad90000000066c80ad90000000044ca9d3a000000000014f07a0ac37cdf91d909d02bf79e3161be6d36b591971f87e326b03045e68525351af19556b5db258843ac48bea81a7aa6de29c2bf7a5c96379972aed56d039f48c3bbb753c4510921ca752c0baf4be39aa580b7ca9344e5c8212ee9989466078e32698c8b0d3b5b25ea14e8835df864ca6c4e28dddb83e82e5a5481182c59513274a89b62fadd6809e83dd3b6619e7f17e41fd834457e3097d52d57d1c3ede88bfc5aaf5cb70631538707952b10cd4b5ae1655d00041fa6bcab2c53908617bc8590d334d82d3f3345d57d8b'])

# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_JPY_TEST, True, BSC_USDT_TEST, 30, 10000, 1, 0, 6, 1)

# perp.updatePairPositionInfo(WALLET_PRIVATE_KEY_5, nonce_5, BSC_BTC_TEST)
# perp.pythRequestPriceCallback(WALLET_PRIVATE_KEY_1, nonce_1, '0xA5DF1B2BB2EB8ABF2B21B9157AA824C40B7D65AD6F3F99BE450B26F5B36D41D4', PYTH_LINKUSD, '0x504e41550100000003b801000000040d00b48ff1b6d0d6606a39129b44be68cb17cd37cb02fc3f006741ba020a59a8922b3e35da1e416b0d6a3a92beca316027d2a00ab8f252f456a2e25b2bd7116b879f0102711933e9b6efd16fdf1f4ffca5d6f0264e456c3228a0de42e9a3d9a6085a88b42efafa825d29f7439fbcc47f06e6915f692a8d5efa9cb305c5652fd2958d449f0104aaacd58b2abf4cd24ba8dab0102962750669a0cd15cda8db5de567e893ce35d63e61bf87b32943c4e78641e41c5527ec2016326966d363855f0c77f35771308b010693926a09ee863fef946ef9ad437f48f6f6b3b05c4a60ea3fed3e1279d59d5b210e36e89b8676233dcbb04b4b73dd80a7add1a7353d9f945ec059bdd899cecfbb0008e7da2a1136626ede02729fc3bb8f9915b95df94fb383746ce22651e1787b806a419f7242b418475ade1bc370a327f4aed5799a5031166043641c58516b2c7ff9000ae9c7fba13ebf9f75c4e2c2be72fa936c97299cf4cdd7609eba96b2d3dd0641ad6b7e72ea6166fb6203e9af49c8371c35275afab1da4d9b0033fa28c324300bfe010b55cf8619026bb390b885b6f240a9d68db58581805b75c644fa170a1f130cd2bb59af637766e8c62a58f96981db4595cc1311ec238c5ef14bda3bcb98d3ec89eb010cdc1852feba6cb0b1442af85193cdf1644f6080dc0f29e653aed69efbcf8a9ca44f8c977d704e7dae0e68fc402b7f67cc4bbdced90963756542e567ce88309f22000d614140103c021fbcb26b4ede3b026c1ca43b8285aef85e9568b69d766f1b02b86a49123d78c0bd43d3ff5da1265320853b76122cd7a9460248472c0e17063a17010ef05e352fdd5b212da957def335f3735eda5a1976aaf67a246ec6676220158b03457e5f54ce5f920a9625d637848111b40810a20c3628eb7aa1dc032ef1252f0f010f29662b355476cff107435d1019d16eedd442702528a255e8557e819c8fcfea5e7852db5fd750a36786d88c0193932321c82f77395db366fb4fd746bf739da41c001040f2584b1a33eadadd0cbd07ffa83be5dc459c08b0d84a7b09e7db6ae383ada60ca5a9020a6d357322d47dfd985090f453a2974468b4722368a0ff406e54a9030012a5850e5ef3b2984edd335f7ad22a571a74872cf085fb497a906da1b6fcd534f920a4f19d68294dfb4dadfae1bb7234c4c451eb4f3154ab7b9a7af9af4b2b18f70066c80b1700000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa7100000000048304b001415557560000000000098df38f00002710cc186ed2316ecf7b39dd463e5ec55c76ea21a317010055008ac0c70fff57e9aefdf5edf44b51d62c2d433653cbb2cf5cc06bb115af04d2210000000044fc1090000000000014d5fcfffffff80000000066c80b170000000066c80b170000000044cb8baa000000000014f0da0a48eecd1f7d839bd984247fa557455d677b4609afe326b03045e68525351af19556b5db258843ac485f3d46c727d810faca7baeb17e11e3198ba8604e3dde21ce9557f95dc694a0e079ff1765c6f1f2a1bd73c6b9d69d2595a0120c617d2924c85b623769a3ed1b3c202c5497084550bf0d159f9f92b9bc9d46bf32755873d6876284d019349141e54727aeacc86070206f1b36f4d6e28ad1e608eb95a10de243cb623ba9f4d11f11b7fab0be5156877804d4ea671f8b871a6e84f96b274ac40299bc9be95e9ed8cc')

# perp.pythBatchRequestPriceCallback(WALLET_PRIVATE_KEY_2, nonce_2, [('0x19E580B2675F6A1E277C26F3FFEF5953752BCDC0C4AE4956E8372D73D6FB6206', PYTH_AAVEUSD, '0x504e41550100000003b801000000040d00a6fcb0b72a189fcd0ecf7f4cf6207576bbfaefb75ffde910b559afd8aeb6e6ed559b4a8c1437d906e2e7e0ec50bdc3782ff972609e223f60330e4263a37c8b5300025556d32cf55f3ca294b4b6cf36a0f306e7bfc11c47c7f39f5bf7899cd9088c9411b31fd229120ff383b567e741d5626233fb73f7fa91675fb28ab85999914ded0103b3fa6cfdf9594dc10337bb00396b8201ac9dccd4dc29e4c3645627e49f5c5c147ac4e02bc24f6a61e2ca54df634847ebb6d5135dcc60125f352500d57e0f8d050104e42cf5ffc0e2250fd792cdc74270d79611dcf1484f569943b1c4d1ff6bc11726041c47019a8a44633233d0860835eda7ee0b5357a48fc3f8afe7fbe555af86b701062e90d27eb4887120519529a1b4ae8afe1d44a9ada9756a84f23c85109f44eb5c607e177195bcf1d0760baef37385fe46260251b8bf021f89d18143681d8823fc010aa2207fe8149510278643f6e435512ec77ff30f1b7b10f1786fe0b2fd5d0af7f05775ec15f625fe0261ccc5d2ad747fb8b7192cb0206b364d81c415e8ad226e2d010beb6c0f915fbb8cde9d29359b44e82296aa4725e29690001dbae71c624fa0c3ec1b9e5a2636b91b908ec7047517864fc1be46e03a6de710a6d35cdae06c924ea1000c646a234b54f8603455202a5915acd79c69fff178c4080934d6ebdda82b162df43e216e5e9bd0fe92aa518b665b77614fb6061543afff2c0290e923e1235c266a000dabe10d9dce63e79687395ac1cfc2efcc16a6eb0c6ddb21c0a50e806ca2691b9f03f5c8ae95dfe31c658ca840771342443c7c375c03f366fdd92073c25c651fd2010e69897876be1af005e6f79dd064e4acb2022db12364839d45fa557380b3f4e354417c2258d34038b9fd1bf75d7754eb572947a72377b2eb25369b6671e18f3bcd000fff32802390083fca6b6ff87cb5a348bd00ce6f41a4c113647c1b1fcd69f6de020e698c255e46ac9a932a1d2d423de7326bb99722653a83a0dd56a032f8e1798700101b6ecc6c020b9a4d775489467881f259ce4eef91a97b5d0185fa136bb23f435b40e7cf2a8e3acf810ad978cb2337cc710f0d36b0eae5ebf21747cbfe48cf670f00129adf68b92182efab24d9707a402e4db60fe926f0007eb026c27a5ec86bcaee023592134715e3229e26022985a863ad24a2f3c21011cf9c054169edfbd34d5ec101668f9d4000000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000412871601415557560000000000091d070800002710bef873421a7bdda37de68e25afd7fb58b433e097010055002b9ab1e972a281585084148ba1389800799bd4be63b957507db1349314e474450000000219dbcfd700000000008298c9fffffff800000000668f9d4000000000668f9d3f000000021995becc00000000008d607e0b9209804b851451d93bcf2b45104ab6df9d3caed92e1c05089b304b8cf0aafc9b1908ce3431f3279718bb99058819324f99454fb87ac768579e3592fd2017448602807b2f7d51d38be1428ae6556d4a57f924b55ed35b7618d62a39a35bf57974ec81e9299047d2d8d34840707abd278ada2af4c479c9e7349401e99539547fe17b0076ab060f647ab1d12dbe09640c45431400fe983483abb2a8eef1af83f819ac91e894f20796fa500eb8b0e15c5b4427d7b843efe1f8113d6d727af65658c0a8300e1dfa3a909e0bfcb42c8351f0fc6a2c909b53496e863ea10c18'),
#                                                                    ('0x48FD23563097BF4D6C3BB1A56F93952AAAB64D113559D430F61DDCD3B2544F70', PYTH_ADAUSD, '0x504e41550100000003b801000000040d009106408533f99ac25fd8bebb6ad7b9e99c25ae85329ce89eb489b0add74a901c0707464f39780119c26a505f0f0392c674bc557e7ff03fe2cd338808425beb1201022d372f009e1d3de23a2bda4d73f3d0ed49a231515cd2b648114c56f872aa06ff5afa35c3cac709713c834274663ab8ac02542a9baf226c6e8020ea6de55c82b20104a049a226ba3ba4fc14a1c23f88d68a61bd1540712aded7a04c7db25bbb45e88a13a072ea1f491e1d5041b721e61d7aae6f46775c68bb79fc2ce76a864e101c9e01060c4810cbd4e5e149da6cf7a9ed077f8ab7631e841a8284b70091c222f0e6a0a87b337e91d82b8ba4ad10554c7328c6011736fa3afa76000ec6d4ca680e081c2d0108b97fb7dffd9f3abd3e376a9bef6a00b1a966ba1d3fffb6244c012dcd1caa78a964a47b7cfd22fd169ef9574128346533524e7aa298891a446553683ef2e6f5d5000a14e8bff8bef7ecfbbb1c6e7a70860aee97fdc7db8a1aafc57a91378e4fb83fd7564606e41a5cd4dbe3e03a4b6d8d74b1fd3a94273db2bb444b2218ecbf10dc8a010be54b0eff99164a53f0222f656115bea0a0b3884e8b5298420d4b4e996c527c3804764bdb0f92c8932138e2f5134ef6d348b232f94fc6e644a6dc67995576c1f9010ca9f55b3c0047216617cb6c7b8b908a5eaad4529f400326f1404d7c2dd2c4614c4c931cec0596dd42167f5a230bb40a0362abb8c5ce2d278a332f63b86ecd42f9000d3f9f3b4003daa16ba71d77b01105a78730008e11b2d2b9e94968013b94c363697164027ac73b51b9938cc13727af0d52478c77efba48c80f1d71e1f0e5fe5a74010e8a0dc849d037b900c5f3a8783ee8e82070327342b3742808e2d074ab7bc2249649b40b426f814f2b99559151ab2a4052cb7c22a461be4d284bff75f02db2c3f9010fb728d310bd36fa108c7da5727b15b14c51690bcfd0cbf58760b7bf3d7182616c7c5c0787fc1edff69b4e810ebb212f16cf1f8bc87ee6ce418e9f31a3ee6c0bad0010fabf810c11f2301d713e15859a69a574bb52143026b1ad3e04c3de4748c4010d4875c6a6e66628aaed977b11eaf8ba66a5831f7d1ac6424038b28871fb1d7d8800123f167bf0489e6777c6b474a5673fc073e32e642cb39d7bf26c6986a1a3adca143c0ca6e0e307d9146f3445f610d2103855484bf65438d508f0fd6964f3da613001668f9d4900000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000412872401415557560000000000091d071700002710bb759e7f762d77343fe2e621db5098738db21792010055002a01deaec9e51a579277b34b122399984d0bbf57e2458a7e42fecd2829867a0d000000000257b378000000000000a717fffffff800000000668f9d4900000000668f9d490000000002575af7000000000000ae1d0b32cc3af94e68478fe39d6bec2efb74ed933990b0883e9da6f1f78be8c3d28c256e70ef33b6f95ba28f52a1e60cfdc6b67cc88305e64883f45ede1db2eca3a870eff2003a22252fd82aa8ad1793466236bb3b18000cfe932212b127e30cdd68298c85ffc3cff7a16191d947b4475aae17fb8a20d3e1a72e1c25bd23a94236c8830c4edbcd46da914796ed732e983d04cdd71e6eebdb74edbaf8c1781de80d01cb7dd74616a3974fe68e55fd8303fe902ecd6640835b0f3819af08926acb357ada451c80bff6a15138ec67937fdeeb5efbd2cc3a5847f2999d270c5f6e'),
                                                                   # ('0xBCF191950AA127B1F2A5AE04B84043792F930D752011F01E3A2761DD24CB3340', PYTH_LINKUSD, '0x504e41550100000003b801000000040d005cfc00fda54b741d359848a2f84ca9a8853abb678507acce6eb9458ca4a2a33136bf4890899fe7594c6ede4be31018edf498ba2781d285c99f1a9bd38ec400bb0103c7b1a6f4e367a211710a08f0286a2369acf1efc0a4dfdedf1dc55ee127b1e5f2517b34d2ccb835a595c7a78e2ebdd682208634b59bac98011802a6a030b8d5b20104b70fbd3d4d51fc371a1f9ae99b9722307e761b033835a0ff9f62cec815da14997142a41988eb83e2af3a3ca18ad4a0774c49fe9e2b267fdffbdd6c53440121470106225d126d039d804d597267c036b4e340ba496f3ce4512ea3410533606ec15b5d33476b541298c05f1ea4f0b842f4a3992a31063ccfeb5fc2ea394c6a843fc59d00085a75783b6a16ebb69b6881e6144379be371d859779ceb39a27b1f29e47b60c4f343e2cf5ba13683c18d948d94992b5bd9a77d48c1bd7dbd1863b27b2f23899c4010a51f6f26b9fe1af180d361d19fea37960e513a973d3dee09c0644b6de77795d855323d6b6f8ae2543c4cc82284fc914c4fba68d67ef713b75e18ece21c0a6fe82010b35c3eaefa412063e057f21261d4c76ba0e11b1c204857686e5e66610984519fd070e41f34c943df16dd5ce018bdb3f58aad06ebb5f7999860d2c88fe0f2c8a9e010cf784a5f33e2425d7cec4496d2aed7a36c29b3b20b9d11c4ed932526a0aba877525ad8da69d57f287f3278da94e2880fb1f84c7ada6eae57b72022fdce1ee6f3a010d923801292b25198cbb91062ab22c5a36230a083e4303144396b3432fda2637f87ff56735146ecfd7fe986d0990738be0655faddbaa7094991d3471f766c81192000e5dca652404597120ab4b8cc680413dd38fc11815f3e456f629b62225408e8cbd3c1ab609d8deab5fe8bef3f74356dfebe9f3ca54f431bf6c7ef471d6e5da923b010fcdeed1af2876693e31440839367d48f4737cc86b2fca0c0774d05191fa00650915ed034d0a6ecc3113c87ef64b8828a308e7fb72c99c6ebf6a0394a4bc530eb80110435526e49f57bc7d3d393c37e9fecbe6665db82b734f834d0b9619323c21652353b4443d54e267940b8cde1f1a03d02c7d292819c3f22e76588bcf0470cdc42d00125c81d281b10e0d69f11d73f43fa196f6c8244d3e5f678cf6dc96127bfb90478c10abd7d2db2c8bb477785591094f6ac702691d179e9e5fdba29b5ac3c609dab000668f9d5300000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000412873401415557560000000000091d0727000027107e030998697d2a5f3fba3d2aaa3721e14f83de2a010055008ac0c70fff57e9aefdf5edf44b51d62c2d433653cbb2cf5cc06bb115af04d221000000004c25ddb0000000000012f857fffffff800000000668f9d5300000000668f9d52000000004c1338e0000000000012d1080b4d5e93b0d47ec165054f7d322428368e44d8b588a527ba241b770ffa6bedcaf6df254ce2dd0462ccdc5bd27d4f8800d16976eedbd3d4b72c3fda3e1f4cd83186406feac5bb0810683dc2052b707df4072723b4d531862f17c19d2ae9d62e3f99d288cf04a75d001628f79af0f0f72cfdb6fdbda02c0f9dc7fcf89b2e5358ee1266b6f4f951260f8c021cf81e1317ee3bc674c5635acb02c90f644202656925f6f81b566d526ab4aa884da3059c5010464425be44f678402ad8300b78f16445899c8970e1c562577a994c2488d27419b4f06f8eb66c4c27e200417324'),
                                                                   # ('0xAB0D2AE7F9410172E548E1E01450FF8BA3BA84BAD82748BE957A7D6EED0A90C8', PYTH_INJUSD, '0x504e41550100000003b801000000040d001c3b51ac3ab73e133c7c66be4b91fa29007e3ad3b4d5423d3b1ec79ea1f8035a78244c4087b1030ede60754bcd4d3bdfec74ae68dbc5d562bfc3b0837329830b010268842d79b716c1fe8d9a233bcf7dbcd4ff386ee2d7c88d8cadf1ba8e45e7f7b3643b02c468b65777ed650487a9695dc32c5a9515a28235f207bd836ad3bc7f9901030828b04694b682802ebb10da639347bd15cbef5759e3843af65b4c72c101d7312afab7814041654180c59f3f2c101b5fedaad77051a45e6627e73abf1d7e91900104f005d471acf5c2b40f34293051e731ebc864eae636533d2d0dc8730a4ffaa2d572f607ec47e3c6c828835d3345a1ed82cc620f2d256f19123c626f6f691647fc0106716f9cdb466fa73de7803e5e18b6f8e289c8422bf902238dcf1683634ea1f86318fbf2c955399d043c08018d8b75275f9236052c0df00f2cdb74776c22fc383c01085a73ce58aa382f558c2c0522363a903d972109244a9b0f501881dba24b3ee26b619ddf087f1eb45772bf4c89fec0d5d2448fe5129da08a72366a30eef7f51785000bf4e74501530b4515993b9d5edab870d4e9d9c64c7dc3e3fc5e59e9bc1e8ef95400862968ba019a19a8ec33ecbd6047b59c01053856d967614f2fdb8fb643bd87000cd7ebd38415fea9e0bacec02fd212cc1560da741312e07adf0762373cc2645086408352954a2eeb3166dc752a64b835596fb627d5d208859e7ebc254b2a9431d0000dd51efb1a976c8b70e93fb234634443e0bd09477f5414d73dbdaf55f50eba78ce07260368297299df38bf652db6d3316e9b5b9218a253d1c0289833b0c1402a55010e8289fbf1557f0a227210cab78e2d6eaa141c3f20e4e24497fbeed14cd88274995d7a7a000feeb437db09c51bb35b3de156be67c4715e4446a1bf43cbbbd916f8010f33968cd99435f06807e2ac31defd03e7bcf4eca60ceedc2eda423b0f56def3827c65d58cc3ae632035d30018241b09ee5a423e2e9d99b86e2d99fd99d0b7e8000010f587862d0e6112b5dc95bcbba31aa39aeb3ad1b18fb4f98361ff33b8c1f0b0120c9990153276320095e5eeb960042c12123161c22f0e7566997573d67bc1726f0112f012fdb9083bf51def6afe1bbc385df8789072d214e87358d342c6395814cbb10496aec651fedc56c05b8e5f11e798e3cfb3ff22316ae2d8bfe321168e5448e400668f9d5d00000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000412874601415557560000000000091d073900002710eab31e8f1e4feb42da3fbc00d5fc36460c63854c010055007a5bc1d2b56ad029048cd63964b3ad2776eadf812edc1a43a31406cb54bff592000000007b2b2849000000000028c9affffffff800000000668f9d5d00000000668f9d5d000000007ac99e86000000000031047f0b7731d9327500d15823d333c922fccbc6b4d7d241629debe49f51fffe46214ae39eaf61ee157d4714deb5f9cfdbb8227716f2f30decdc849893e9419c66517c4c50ca5e5fd915e37022be4eef06abf6747cb9a269a547a730459843831341b518048bdff883f54c2238dc58d55dfacc78d88106aa126530118f53e33042ec5ea3fed39aac62ac80fea54c78ccfe20f38c4674b93ec5b924dd6d78275837e739ba9435de3f9b388cb2725d843ac36e5668d69a74a4d7c76a4872cffec18b18d65086f3053a06b44f60d26994f9fce45dd2bfdbb249fb66991d9f78a73f')])
# perp.pythExecuteLimitOrder(WALLET_PRIVATE_KEY_1, nonce_1, [('0x6CEFA5D2E150771FD18689EF7111B1A79B9F23F6F8456B51F4DE4289DF22B944', PYTH_INJUSD, '0x504e41550100000003b801000000040d008f4189993c5161424c10b720a5a2a9348840a887224e6e13eb884e00e43ce7203442dd6cce04c682f769c5f39eb280737c997aabeeb169af6b30856eb62e890900025e3879b2534f670071b26a965f7a9860ae9d2ff697dcbf4cf89f53bd01d63757132cb884b88e60681ba1874f3c64f5e57c846666b81f3ea3a7097a941e4f675d00030b6a5629f7330264328467bc37ae19ac7f7ddaf49f68fbb393d0cc2165862e5c094366561de88cdb1c556849640ddc4c6861168d4511633e7cd325975e3856b00104c39209dbe43aa2f09fbcc90a2c6565bc097b58177adaabafbdf15603d10af9c62846260874043dfed08b7451123500656b60a1d5e3e9aa27bb32c6d115f0d20e010671386d1232038446e1ad7a8c6bc8ada2c43c4ab7b1fee7a60fadfd4e86e5678f189913b65378fdc60d91566e5e4e1348850c825d9188ff24981e39b614cb38150108de1a2f48bb9e2f1cd2e87bf603448c3b19eab540d12addde5947de1363efa08f263cabf496eaee87fbd2510c182494990cf7c56e3c1f7da9d1c17fd084b2fe9b010bf425cd3d6c71bcdc5e2e77bf5d9511a303c2611fd1ec26d12fd7ddae2bb1872b7864840614b9a3e6fe4e767cfb0d3052c8afbd5f598cad8015eb95b8eaefb293000cf2559e09d7c938c15f5b669165c0ab1ebeb4b51a33409436bc0780814f58c84e25fc193562eb3dfee9b86bafc767fb30e1f84b2e22585d60c019d023130227c9000d4d361791a031f2d69c2ce879a46f05020d62f93c619383ae845c7426b0ea31372352dd144626f0629f4d1446d94e41933455df6ec67c783a55e4197c43c65b41000e8b46375db4ddc118dd6cb1c0359d9908279f48312a466e04824254059bbe9e7e4c40fca3b3f5777cedc9d98ba82540b01b4415a3e6d1b44f5e966047f2137ee8010f33a98a040192a2721f2192ba94dbcd2dccee8d84d855dffa8909c7c5d510c44b5adbd47c8a6967f74e9655f71723c98aeeb2e28d7d59f259515ef4f137ae90f20110020fdd4d42810e622d9d622d0e204093a18ea9ca5c2d0e8309931a88f9dd8f94107e60da588b34cc43cf9efaa6d97f7b14d70b6c2c2ac195364c74246f8de3900012db369e92f26200177003157fadf0d53959def966b40794f805948d46ecfcf21c14f063bfe6e60251facf48b96ea095ecbdb46fc7cd06862483c8b87744f0d5b9016693c5c100000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa7100000000041998de0141555756000000000009241d88000027100b11cd765de38bbf363f7e1cd2667b331e01acd9010055007a5bc1d2b56ad029048cd63964b3ad2776eadf812edc1a43a31406cb54bff59200000000794014a600000000003d237efffffff8000000006693c5c1000000006693c5c0000000007acde72a00000000002add410bf981cf9c7ca51a111b8eb0038257ca3469cb793ea25275d199a1909e52795d397699b0c840c1879c32cb5d751b8d644451c40e5ef902d2c08585885c57a060545ac47751fcc7c21250fe46ebe0e18fe5680f1e0724d61fe24bcad2e73e1b122d1f6b9a734f368a64b073259dbd17e5a23fd86d0ff61318af8298fd00fb5ed1dbd59d638fca0ce0bcfa63df502a650692b02c21843da0de857fee9202c4a9243758a3daaebe8fe37b54e0a4503a4b7ffd54622c3552b0eb4c5e391044e67d8cdb62621c71d413ab7f85b003cc32538bfcd329297c0e8017b27722ac85'),
#                                                            ('0x59bbf4dc3afd44fbc86b1653b1b8548c376d7067c8c733e2a5199592732137e0', PYTH_INJUSD, '0x504e41550100000003b801000000040d008f4189993c5161424c10b720a5a2a9348840a887224e6e13eb884e00e43ce7203442dd6cce04c682f769c5f39eb280737c997aabeeb169af6b30856eb62e890900025e3879b2534f670071b26a965f7a9860ae9d2ff697dcbf4cf89f53bd01d63757132cb884b88e60681ba1874f3c64f5e57c846666b81f3ea3a7097a941e4f675d00030b6a5629f7330264328467bc37ae19ac7f7ddaf49f68fbb393d0cc2165862e5c094366561de88cdb1c556849640ddc4c6861168d4511633e7cd325975e3856b00104c39209dbe43aa2f09fbcc90a2c6565bc097b58177adaabafbdf15603d10af9c62846260874043dfed08b7451123500656b60a1d5e3e9aa27bb32c6d115f0d20e010671386d1232038446e1ad7a8c6bc8ada2c43c4ab7b1fee7a60fadfd4e86e5678f189913b65378fdc60d91566e5e4e1348850c825d9188ff24981e39b614cb38150108de1a2f48bb9e2f1cd2e87bf603448c3b19eab540d12addde5947de1363efa08f263cabf496eaee87fbd2510c182494990cf7c56e3c1f7da9d1c17fd084b2fe9b010bf425cd3d6c71bcdc5e2e77bf5d9511a303c2611fd1ec26d12fd7ddae2bb1872b7864840614b9a3e6fe4e767cfb0d3052c8afbd5f598cad8015eb95b8eaefb293000cf2559e09d7c938c15f5b669165c0ab1ebeb4b51a33409436bc0780814f58c84e25fc193562eb3dfee9b86bafc767fb30e1f84b2e22585d60c019d023130227c9000d4d361791a031f2d69c2ce879a46f05020d62f93c619383ae845c7426b0ea31372352dd144626f0629f4d1446d94e41933455df6ec67c783a55e4197c43c65b41000e8b46375db4ddc118dd6cb1c0359d9908279f48312a466e04824254059bbe9e7e4c40fca3b3f5777cedc9d98ba82540b01b4415a3e6d1b44f5e966047f2137ee8010f33a98a040192a2721f2192ba94dbcd2dccee8d84d855dffa8909c7c5d510c44b5adbd47c8a6967f74e9655f71723c98aeeb2e28d7d59f259515ef4f137ae90f20110020fdd4d42810e622d9d622d0e204093a18ea9ca5c2d0e8309931a88f9dd8f94107e60da588b34cc43cf9efaa6d97f7b14d70b6c2c2ac195364c74246f8de3900012db369e92f26200177003157fadf0d53959def966b40794f805948d46ecfcf21c14f063bfe6e60251facf48b96ea095ecbdb46fc7cd06862483c8b87744f0d5b9016693c5c100000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa7100000000041998de0141555756000000000009241d88000027100b11cd765de38bbf363f7e1cd2667b331e01acd9010055007a5bc1d2b56ad029048cd63964b3ad2776eadf812edc1a43a31406cb54bff59200000000794014a600000000003d237efffffff8000000006693c5c1000000006693c5c0000000007acde72a00000000002add410bf981cf9c7ca51a111b8eb0038257ca3469cb793ea25275d199a1909e52795d397699b0c840c1879c32cb5d751b8d644451c40e5ef902d2c08585885c57a060545ac47751fcc7c21250fe46ebe0e18fe5680f1e0724d61fe24bcad2e73e1b122d1f6b9a734f368a64b073259dbd17e5a23fd86d0ff61318af8298fd00fb5ed1dbd59d638fca0ce0bcfa63df502a650692b02c21843da0de857fee9202c4a9243758a3daaebe8fe37b54e0a4503a4b7ffd54622c3552b0eb4c5e391044e67d8cdb62621c71d413ab7f85b003cc32538bfcd329297c0e8017b27722ac85')])

# perp.pythExecuteLimitOrder(WALLET_PRIVATE_KEY_1, nonce_1, [('0x3082c7471f5b1d2bbdc7c590d3c9954634af76a4555e93f8516b294680cafc60', PYTH_INJUSD, '0x504e41550100000003b801000000040d0088135d460933d701fc20e7c703095d49b91549f4a2de22ad4a2c194848f0585e1bf9ab4a4885cda2883f0c1fa5d58fcdb2873e0206bd70725e876b647f8f9c5301012d80407cadc12118915643d8a92efbaf301afe9b6dfd63b2febc560b13d70ac6398bcdd20e762dc316c3ce5085c5d9211b5dd98fec221ee7bd69a31b12b529df00020d523639d5008ace1b074b151e2199fe6a3f8d19c28d3d5c7104eaa23d0690726201404e72fc22d81ee170b876b8bf3da08a28978cae8e696606158f391c302f010347fad4d0b5b24a6512b6594b41ce906217eb4b32290e0099620420ff0fc2ba1042c11cf96317dd2d086603a3ee3c3f0c5cf7f29119aa8f2b2e0b5164778b0a170004dd88ad363caafbcf9622324961f2091e48d65dde67a90d49a5335655b4fe1501165b88d60783627101f2c9b7bc056a949396a47bde8accc46ec7423eb89ced5101060461d8c57da3a01fcc3e7de893a399b06f38d3d8d8af9d5dd81a991b8f6347bc6fe6c8d9df74d1f6828d107dfa95165eab63f721bff04d61b0ab1cc400379503000a2c2cd902650cb8d5dbaf504d2c0603de0bba3bc68e5c81242c81392c6eb6224f01d99fa8131020b875eb208596e33440575c1db7815663002ae6df75a4319bf9010b9ae38ce4cc0624d23b393c2b31ac705b15aa3224407ff56bab4cd018cc4737f205ef80e8ed48a8434096ba059b5b459f31f0106ed1a0397e32d6f6ee117db8a3010c4696245dfc5f80cb335b83c867d110d047ff5fe214b4860cf3af15cc05de760074645a6ed9788d6426229b5d81d711b38f85be525d0870df5b0271ccdabe6cc6000d2b87654744bdb313e2eb84e50ea774bf33ac40a8d8c526df443a400d8943385a78e1eddb8b5d1a177826ac51c8a0fc2a99aae3ce37ea321a164570738b066c61000e74d0d98b9a065c0737eb44da53aade114a34f5e1c9b37a6542224d76cf8048a03789a15fc671339e4b7f46f8b559473de69be99496beaa8761d9f10f0047fe1e010fc3c0dc3e200726bfb283cc579fab7ab5913be0bf1878e56a8f64c4c6b06b7908365ca02feb619075f26333d35bcc401d69a49ba1f0c0f4c7fbdb4fed4ac056d90010c6f51627a8d65cd55bfd78cbeda8b415d47b66e2857d2d01d68ffd368eb571801abc8e9483731a7d37ac0a74147e063373093410ea70fba1335c7ec9638fcc20016698b95b00000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000421f7ce01415557560000000000092c850b000027100dfc38c51c041cc264e16cc6a98543b5fbed6413010055007a5bc1d2b56ad029048cd63964b3ad2776eadf812edc1a43a31406cb54bff592000000009b3ece2700000000004e31c1fffffff8000000006698b95b000000006698b95b000000009a18399600000000004d73d30ba63c60da3209072e1cd46466d7148981ac27d6a2e1996589a074faca67994beffb45a83a0e457d224d21a24b481fc91f00fbf627745bf4ddaa7e2cc94e713427d2f8bc2472a74e24a8d0d56066aaa42b3bfed8d00b782de97c6eddabbf8be674978a65b05eecb3432dfa4c28f2302d5f9fbe9bd5aaccdd03af71c6eedc9cf99a56b5f3215220becffa1cb00771d53f96c02cd687a41d3b27e5adcd6473d1a6550da0055418f30bd306000170f5a85a361f0a943b7b789d36753d9eddf70b67e17a61718bec646098fc34abb1690be9f7aeab033c45c9cc3109723306')])

# perp.settlePredictionsWithPyth(WALLET_PRIVATE_KEY_1, nonce_1, [(618, PYTH_BTCUSD, 1721289024, '0x504e41550100000003b801000000040d0082ae4408cc18d91b3367495c363a691c006eb2f4913954aec13959891d0947b421c3e6a3bf8924337b83ef5e91f3fdbf8bf1a6765a6a5a626b62afe4407ecaa50101ee2d842ddd33bf9cea21e130761135fb468868d98a4dfa6e6ded8bbd8ef0aaa509156782cdf2847e0439f2aec679270fb98a44b437af3ce65469ab2a2299f0fc000386abd93c949a2c37ed251539b6821e15ca761300327a8ff758508a60f352157f14975a2b7f003b559e22fda95c6f63d51a514f97674efe19373489d9eff74b9700046d34d7e4a18874cbb72ff8c7659b9bab76cd4768573c47ab944cc2f9356b805f6ed9ee273e8c62e8b71488d11ea124ae06bd117b11293436b1fdecee047276dc0006f29602cb06951399d385c2ed89a236aed1b2558f71c480a41da01dd9e9d8874a342cd9cee3d21ea0ea2d9aa1fef48f678f555202a799af57291c1889f0ec5db2010959b468d68e20b0f85ac219a652a3a453a2dac3764d22ffcd295626a80837419e4d623cee3c8465089417561add2c044696e3fd9f4e5b53508bea40a493deb9b3010a60fd85ea82ce65fec83fed6d8f753e3df39fb342a7d0003f201b72306a4815933bede2309e320c5902960523abc3833ee71eaa0c1d59163cd8eb818c10fc4fc6010ccf57353444227ff16e9bd356d0133089835285b30ded649fab7c1e863e1c6c3a1619a054c2547f537676bb3870c23d9353133b4e5b511955c825df11100d55f2000dbed544e060c829ede34b3debdaf3d19f5a53a604e205ae751eb25b863092a98d5c2426d84a445c9934b6a340fa2cbefcff5258b34de024ee8db99a8fc1a4db21000ea41fd7a1e5b5f07b1309c507f9866b07c0b3b06a56cdb840a4ee613c3670c54f79639f516c6476bb246771c1acd6fdf11e8fa5ccc8e3ee04cd5302414b28fa30000fbde9dda3ec1715fd60ae6860425b18b1ba44cf74741a40591470d43742ddf5957a92420e83325fefff30938e3ef48d9797464f7470588bee9c8aedc45bc4b99401100e001495991f8f88073e6dc470d1866b77e6b4ddf472904d647d60bfe33c9dcb3a0471ef754e197c6990bb33f372fa5e242f9acda67f9e877c978a28f53dab6a01120510f23b8898637e46b79d29ab0a1ab044007502ca72af40ce82a6375409316f3fed8a24aa51cdbc2456ad918004009ea518e1f6b16c338237fe557dd9bdb3e0016698c94000000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000422129c01415557560000000000092c9ff20000271089a7483a375158f2db09b246b4f3a520a9c0a20101005500e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43000005e31fb264e0000000013bc2735bfffffff8000000006698c940000000006698c93f000005e4c64fc940000000010768f5e40b260e83745e4d369155060e557fa6ea9cc60a495a3b6507dee3426d3c2771dc51408f6488c2dd98360e6e567562fa967bd56d528323020faec1d0d93bae7db74af846656f11be59c4a55b50d125e573f1c154807e255f2f1c3aabf29196697113568503722536f7a0247ff6c74bc408b339e081400e476e2d0aed4f45675aa7648112bcc968bd1802113eb3a56f668c99a3699e5bfbc32db0ea75bb67c8b09611e593a8384e9697cd62b3ab7b204c7e2ac166cc4052f966035e087b48d1627b4c56d4e65ad1100a000d4f4248fb3b6bf27e1f6224a1874886b1e91bf0'),
#                                                                (620, PYTH_ETHUSD, 1721290131, '0x504e41550100000003b801000000040d000532fcbef7369930d317d518cc5caddf396273ebe20677bf046e960e54c5e79d36f9c5766160c8e0f995d7ecf610eb4f139ccce72f098b43e8b315932f7e2c2200023e9b2cc50854c6057e1a16daea15a7296260a1f9ca8d90c0c18216565bee214849fbcdd7df2538014e4a375c168ea5c02f389f4d751cb5a1c6abf9d4e99bda9e000393b3399818cd5baab7f61161b5b55bd7169d5bcf4399c866bddab9ed8eecf968786f0328e60ccf7a7e80590e9347afcec4e1b1162fc71723313ae578ca058548010421027da06408dcb67f5ed86aeb562363f570243ef0cd07e3235bb9f549083d796cc01ebd39380102eaa2b933903ddbe963c0ae84b5de138ff7907fc0478781d200061eecaef367a118b41de758ba1b48373e8e8d895f18c11d814c32e4cc12684e256b3d8db3f29c9b4a07826ada69f2fe74053743127982560b0d770cc844b48198010806053f1bd0cbd31a7ad80cf4c356afb447e343322e1a793eb42a37caeb8fcc8f787408a20bc89d8d5b7d29b551c3bd5854655d5c7d6fd9abf7917d39e96cab35010a94b6eeea677cf10e32f68d9f9b09da751b70c04af11d4f4adf40985420caa89b39b70535121897ec8dcf217b2140ec2520c5bcd32b78408ef725172f3cc2d052000b86ce7fb8bc9fa6e9a6f9a56a9a05fefa9c89393327eda81d6541cf07cf70699c26161afb79ad409f1259f6d6a11b11aaa8906947a96a0872488f42d655a4a28a000cd9f17ccffff882e9f4d48e65fd822f0754d622afb9cbb08e4b376dea106606a020021f043287ad9c59a84033dbe6f24b58b9b412189d8c67e0385a3469d11b75000ebb92d52fda43e7c08d02f0362dbbccae71402e48fd72680b6108298b6fdeb4101e162455818a04a0b74720c9b29279b1d9b071eb89dd4e9dd90b99dbf1913f95000fb70d44336cbf2c66fde981df3ece57302e6cb19e69dc5c39d18a53530097ed3e211798784a65cf1cba0f59ddbf69bbeded84f785522c495713798850add37fde0010e0b16039cd76bcccf0ead0fc42be5fc53cbbd80e174e4d8fbcd7f906c1f02a024efa0d3852e84c3514712c5369fc4af98a0484557313a919efaf63e46b4b953f001267a7b41465df380600b6a9f21bb257d02edb0c1df61dd2f7eaa6a519f3b5c1746f631978c633ffd73de4eda2beb505619d7548489ebdfc7279d244a83abadf53006698cd9300000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa7100000000042219e201415557560000000000092ca7420000271027c8b6911f4d83117aa44d978096da59f12a9b6c01005500ff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace000000502146858a0000000012122f9dfffffff8000000006698cd93000000006698cd920000004ff718bd10000000001378f45c0be6f2d73cb687c7ddc73b8e7d97cf0a894bc8846270e4346887dfe27b987a2800431ac6f70b444cc37394e02665ffdff71547885583b40e959bcb5357bf436edb68eab84ddcd7ad95fef3059e2d9632c4dce38e9135dba943ae443bc29512c1c8525adbb5dafaee2a9827866ee5a8c282c24233ea9bb7986f6126eb20517b31b7dc8415b50c318d737bc6eb073e490bdbee94319a6eb75ac0b61da8fd4a6fbfca041b1a33f4eb1d40e8ec26a8b70fbbee8572117a2c9a66c53b16b38cd0abaa536123da4499488cd20ebefb56a39f1963cccd5b7a03277a5c41b4e931')])

# perp.batchRequestPriceCallback(WALLET_PRIVATE_KEY_1, nonce_1, [('0x8BF8B254BF493B177F501486D53B4F689CCFB681D5801D0FDB83294D46CE9181', 1161000000), ('0x0BB8282143FF985FDF8D93CC332A7B581D03C8791B4C6D59AA0EC08E8FECA744', 1161000000),('0x630D4D3FDE762895B1F68C92032ED3218E6DC8B50CAC59F9C3B133572A1D1A73', 13553608)])

# perp.executeTpSlOrLiqWithPyth(WALLET_PRIVATE_KEY_1, nonce_1, [('0x7b9db009e093f2497b14f38259186c58f28b2118204dc07f531a7a3a58af572f', 2, PYTH_BNBUSD, '0x504e41550100000003b801000000040d00820873522e028e0119932b1a95b80e2cd1e008e3fee7012fa3aebf8f381c023312ca6b064ce87276cdab3259b4b66c704247879ec02feada57b99cd45debed5e0002bf8fe30229be5cbfaf7aed9aef0042d26ee42c03f865677f32a1226e77280dc71c62d45d30e355aac9ca3284781d86eb44beb7407f59a5dc6b31d1ba25e22bde0003bc4948181bdba7a2fa3a04c7fbcb76c5943cef52805cc3d859137655dd2481283a2955fe17a3cdf293472b893d5c9463c35730d3c458599f484bfc8909e5a28f01041e1dcbca36f5d31fd332ea89d00df3129ef0c1f717436f1304c6079dfe9eeeb0575e5c92078d15eae45686980da86424c2656f025b34e294a69fcaa08aae062b0006b2dfa6ba8d26de112e5c14bad091766f8b516df2e3c94575e54bc4f997acefbe4478edb0682ad4120d70d890a7e20e1446614f1d2a146744db7b963b3f4ce6dd0108c7cd7215902a8a037e41f1e7222e0f47b0c4e542cd6b30639ea02c911c8022693a893e9c9c517181585c954bf1a53a2d89af05e4d8f14756bc0dbf2ea28a3f5c010b550838bf3be00cd1e3f223293a9e64ae2c8aa6c4f8acc173b1ebd796982ba2ce0f681f44f1272859b4e8622de4040ba7522550101eb54d210c8d1327ec60963f000cd06f1c9222047aac3b6c2018abe590876e8c3da24e53b02d110b9ecf7c2194744d41e88f86b66e0c2eb590762e0881126108a693af6a5784d0bebce63fe8f8e3000d273e213c962d31e610b3183306528eb0c69bffe0c7a8076e3e1417bcfd533e1d5e9f09b476207363228326a22b3222f24b16066c97fe019a9cb4e7a05629937e010e94087b71c248bf6881262c9b624475eb5f2aaaddfda08c2360412fdca99be4b04e023f8e545b25a0b463c144fb19566de6682539b2d06d76722ca0dc3a96133f000fd4555ea83a45d2c6956a1b7c83505723f162e24e26a88a54f2a98440efb1aa55544a00e3d3049e30c0604ece473d9362620bbad1cc802a59c5756dcd9f066de8011040a5d8b54776e8862e6d8475ca3d58286d9ac1d8b650f39f67fd4419013fcdee10f4d5c7ef83a25dd313334b2ca8c738a308157c9a2fd3aefcbbef1f8ef4f17f0012723abd166fda14697140d7d18a891ec43eb5db14fd2262db5d56f13f653a38627401c774ce24567db6e3dda08e71a2fdb84ed53c361d541c5449c94c8211e98f016693d0c100000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa71000000000419aba90141555756000000000009243057000027108617d37179186593104c9ea60c63df580e64508d010055002f95862b045670cd22bee3114c39763a4a08beeb663b145d283c31d7d1101c4f0000000c74be37320000000003b1e22efffffff8000000006693d0c1000000006693d0c00000000c79564ef8000000000362d3c20bd9d622d4e8d692b03fee4b4fd3a38298708b67676e655ba08ed33a4cc8add808afa679e42c9c35ea6a7b45887eb11492feaf48589e62cefd7065f99f4038bfa373095f992eeb5412c47ba10d6cf88902f9934cb3cb39970377a9bb266a5ee0966151e147057bb34863d80254f272b4aa2a37da525097de6104a56d41a00ae0f7cf31d7f8fef848edb78cc4c721b2434ca792dcbfd3eab81fa090a6286be0166d436b0000821bae6a92f2674c4eaa7a048c3f17bfda08aed85ae6ca39de42b32bd2dd78309df81b2a7f8b45d1342437459594be2f329149969308ccb6')])

# perp.executeTpSlOrLiq(WALLET_PRIVATE_KEY_1, nonce_1, [('0x7BD571D4AEBCB693412BC638B27A31C1F696CD6F9C813CF20D5FA95B454B6FED', 6473500000000, 1)])

# perp.updateTradeTp(WALLET_PRIVATE_KEY_4, nonce_4, "0xe907d028bd5206619e091881be88352582684bf0ac0b01bb3f318127edce901f", 1000)

# result = perp.executeLimitOrderCheck(WALLET_ADDRESS_1, 1, 67000, BSC_BTC_TEST, 10, BSC_USDT_TEST, True, 0, 0.1, 67500, 68000)
# print(result)

# perp.executeLimitOrder(WALLET_PRIVATE_KEY_1, nonce_1, [('0xbb8aab6d525fb05842d601060ab3f486058aedffb4049c5aa51291b2a97b4fe8', int(4100*10**8))])

# r = perp.itemValue(BSC_USDT_TEST)
# print(r)

# perp.setSigner(WALLET_PRIVATE_KEY_1, nonce_1, ZERO_ADDRESS)

# perp.mintAlpWithSignature(WALLET_PRIVATE_KEY_1, nonce_1, 10, 0, True,
#                           "0x00000000000000000000000000000000000000000000000000000000000000610000000000000000000000000000000000000000000000000000000065e7134a000000000000000000000000b9ef9c975ebb606498d14b105a1619e89255c972ffffffffffffffffffffffffffffffffffffffffffffec9f7fb0e1514c60f07affffffffffffffffffffffffffffffffffffffffffffffffffffffffffee2ef1",
#                           "0x6b0f18159bc7904d0b8deba773afc1b00ca92535530d65a493f1b715a5a0b44e5d5e879410120b38510e3a37dd70de4b6b0cf3b7fd2b3cb510e00c903621cf461c")

# perp.mintAlp(WALLET_PRIVATE_KEY_1, nonce_1, BSC_USDT_TEST, 100, 0, False)

# perp.burnAlpWithSignature(WALLET_PRIVATE_KEY_1, nonce_1, 1, 0, WALLET_ADDRESS_1,
#                           "0x00000000000000000000000000000000000000000000000000000000000000610000000000000000000000000000000000000000000000000000000065e698dd000000000000000000000000c27d8d4ec72cae8c3b384a927d98efde2dfc53d4ffffffffffffffffffffffffffffffffffffffffffffecac643e8ea54ff105c90000000000000000000000000000000000000000000000000000000000000000",
#                           "0x92e4cdda725532265014d0a5afbbfc2ac6ae644414921cc4f812fa050283205e3b745f4dbc9af1a3fac3aaf810fb52f9a5aafc57e305a39dd4f965daf26f603d1c")

# perp.burnAlp(WALLET_PRIVATE_KEY_1, nonce_1, BSC_USDT_TEST, 100, 0, WALLET_ADDRESS_1)
# perp.burnAlpBNB(WALLET_PRIVATE_KEY_1, nonce_1, 100, 0, WALLET_ADDRESS_1)

# for role in ALL_ROLES:
#     perp.grantRole(WALLET_PRIVATE_KEY_1, nonce_1, role, '0x21C8907a729948a8F6006975e310c0E11F77870a')
#     nonce_1 += 1
#     time.sleep(1)

perp.setMaxTpRatioForLeverage(WALLET_PRIVATE_KEY_1, nonce_1, BSC_BTC_TEST)

# 市价单下单
# perp.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_500BTC_TEST, False, BSC_USDT_TEST, 10, 0.01, 61000, 0, 0, 1)
# perp.openMarketTradeBNB(WALLET_PRIVATE_KEY_4, nonce_4, BSC_BTC_TEST, True, BSC_USDT_TEST, 0.02, 0.01, 69500, 0, 0, 1)
# perp.openMarketTrade(WALLET_PRIVATE_KEY_4, nonce_4, BSC_ETH_TEST,True, BSC_USDT_TEST, 40, 0.1, 4100, 0, 2000, 1)
# position = perp.getPositionByHashV2("0x6F0E66DEC19F9DB5D0959ADC1B7877C8ED834026481A3D4587EA13B29585A1CD")
# print(position[6] == 0)

# 开仓callback
# perp.requestPriceCallback(WALLET_PRIVATE_KEY_1, nonce_1, '0xCD8AA10B08E765E51327C2FA979A72FB8DAA88709E4D89D6977C7454A38BDCB7', 63603)
# PriceFacadeFacet.batchRequestPriceCallback(WALLET_PRIVATE_KEY_1, nonce_1,
#                                            [('0x8975CED172CDA6EA801D3C280023C01B4E86EEA5737E11F2470F8B41B93F20FC', int(242 * 10 ** 8)),
#                                             ('0xA24064703F5DDB547A9A76EA2EEF3CD8E85E7A60D83431243055C8CB626A5744', int(1975 * 10 ** 8)),
#                                             ('0xB6780A2D7185923DD38EDE56AC84BD617E1166B692477256635ACEA5D5B7EA89', int(1970 * 10 ** 8)),
#                                             ('0x1DF8D9583E3C2CD38A0DF7CD7B74A1B40BBA013496E9A3C8E2D7BFF5A90B772B', int(241 * 10 ** 8))]
#                                            )

# perp.mintAlp(WALLET_PRIVATE_KEY_1, nonce_1, BSC_USDT_TEST, 100, 0, False)

# 猜涨跌
# PredictUpDownFacet.predictAndBet(WALLET_PRIVATE_KEY_5, nonce_5, BSC_BTC_TOKEN_TESTNET, False, 0, BSC_USDT_TOKEN_TESTNET, 34, 35000, 1)
# perp.predictAndBetBNB(WALLET_PRIVATE_KEY_1, nonce_1, BSC_BTC_TEST, True, 0, BSC_USDT_TEST, 0.01, 41000, 1)

# v2回调
# perp.addPartner(WALLET_PRIVATE_KEY_1, nonce_1, 'test', 'www.apollox.com', ZERO_ADDRESS, WALLET_ADDRESS_5)
# perp.updatePartnerName(WALLET_PRIVATE_KEY_5, nonce_5, WALLET_ADDRESS_1, 'test')
# perp.updatePartnerUrl(WALLET_PRIVATE_KEY_5, nonce_5, WALLET_ADDRESS_1, 'qa.com')
# perp.updatePartnerCallbackReceiver(WALLET_PRIVATE_KEY_5, nonce_5, WALLET_ADDRESS_1, "0x92Cf5D8Ea24AcbA75E4D535cbe03ED05c73c649c")

# 计算requestId
# TradingPortalFacet.setMinNotionalUsd(WALLET_PRIVATE_KEY_1, nonce_1, 1)

# TradingPortalFacet.setMaxTakeProfitP(WALLET_PRIVATE_KEY_2, nonce_2, 100000)

# TradingPortalFacet.openMarketTrade(WALLET_PRIVATE_KEY_1, nonce_1, BSC_BTC_TOKEN_TESTNET, True, ZERO_ADDRESS, 110, 0.1, 23000, 21000, 23500, 1)
# TradingPortalFacet.openMarketTrade(WALLET_PRIVATE_KEY_2, nonce_2, BSC_BTC_TOKEN_TESTNET, False, BSC_BUSD_TOKEN_TESTNET, 110, 0.1, 21500, 23000, 21000, 1)
# # TradingPortalFacet.openMarketTrade(WALLET_PRIVATE_KEY_3, nonce_3, BSC_BTC_TOKEN_TESTNET, True, BSC_BUSD_TOKEN_TESTNET, 110, 0.1, 23000, 21000, 23500, 1)
# # TradingPortalFacet.openMarketTrade(WALLET_PRIVATE_KEY_4, nonce_4, BSC_BTC_TOKEN_TESTNET, False, BSC_BUSD_TOKEN_TESTNET, 110, 0.1, 21500, 23000, 21000, 1)
# # TradingPortalFacet.openMarketTrade(WALLET_PRIVATE_KEY_5, nonce_5, BSC_BTC_TOKEN_TESTNET, True, BSC_BUSD_TOKEN_TESTNET, 110, 0.1, 23000, 21000, 23500, 1)
# # PriceFacadeFacet.requestPriceCallback(WALLET_PRIVATE_KEY_1, nonce_1, '0x7a0e09839a42cf13a50c8617a3b01ad91adc6a47990668cef364a883aa8a75e1', 22423.15237143)
#
# # LimitOrderFacet.executeLimitOrder(WALLET_PRIVATE_KEY_1, nonce_1, '0xb891f1d3f6fc6a414dfd388f764467dc7c7047a98af70d0bffcf595871684c81', 22000)
# # print(w3.toBytes(hexstr='0xb891f1d3f6fc6a414dfd388f764467dc7c7047a98af70d0bffcf595871684c81'))
# # print(PriceFacadeFacet.getPriceFromCacheOrOracle(BSC_BTC_TOKEN_TESTNET)[0]/10 ** 8)
# # print(PairsManagerFacet.getPairByBase(BSC_BTC_TOKEN_TESTNET))
#
# # 添加pair
# perp.addPair(WALLET_PRIVATE_KEY_1, nonce_1, '0xCE7de646e7208a4Ef112cb6ed5038FA6cC6b12e3', 'TRX/USD', 0, 0, 1, 0, 9500, 9500)

# #计算requestId
#
# # requestId = w3.keccak(encode_abi(['address', 'uint'], ['0x61110458b8181Aad539A96005Fa773dCee774aF8', 27717961]))
# # requestId = w3.toHex(requestId)
# # print(requestId)
# # VaultFacet.updateAsMagin(WALLET_PRIVATE_KEY_1, nonce_1, BSC_BUSD_TOKEN_TESTNET, True)
# # PairsManagerFacet.updatePairStatus(WALLET_PRIVATE_KEY_2, nonce_2, BSC_BTC_TOKEN_TESTNET, 0)
# # AccessControlEnumerableFacet.grantRole(WALLET_PRIVATE_KEY_1, nonce_1, PRICE_FEEDER_ROLE, WALLET_ADDRESS_1)
#
# # 限价单下单
# perp.openLimitOrderBNB(WALLET_PRIVATE_KEY_4, nonce_4, BSC_BTC_TEST, False, BSC_USDT_TEST, 0.02, 0.01, 69800, 0, 100000, 1)
# perp.openLimitOrder(WALLET_PRIVATE_KEY_4, nonce_4, BSC_BTC_TEST, False, BSC_USDT_TEST, 20, 0.01, 69900, 0, 200000, 1)
# perp.addSlippageConfig(WALLET_PRIVATE_KEY_1, nonce_1, 'TRUMPWIN', 4, 10000000000000000000000000, 10000000000000000000000000, 0, 0, 0, 0, 1)
#
# # perp.batchUpdatePairFundingFeeConfig(WALLET_PRIVATE_KEY_1, nonce_1)
# # perp.updatePairFundingFeeConfig(WALLET_PRIVATE_KEY_1, nonce_1, BSC_WBNB_TEST, 90867579908, 11000000000, 295000000000)
# perp.batchUpdateSlippageConfig(WALLET_PRIVATE_KEY_1, nonce_1, [(7, 0, 301190220000000000000000000, 301190220000000000000000000, 1, 1, 200000000000000000000000, 200000000000000000000000)])
# perp.batchCloseTrade(WALLET_PRIVATE_KEY_3, nonce_3, ['0x4a4bf86535a9102be2a83024aa00f67a716d2a58aa6767ab43ba3b75d06090df'])
# perp.addMargin(WALLET_PRIVATE_KEY_1, nonce_1, BSC_GST_TEST, '0x06836f49c673c33086501bc160289c677f083331c71dcd6c72104a198e4b453d', 40)

# perp.setExecutionFeeReceiver(WALLET_PRIVATE_KEY_1, nonce_1, WALLET_ADDRESS_2)
# perp.updatePredictionPairMaxCap(WALLET_PRIVATE_KEY_1, nonce_1, BSC_BTC_TEST)
